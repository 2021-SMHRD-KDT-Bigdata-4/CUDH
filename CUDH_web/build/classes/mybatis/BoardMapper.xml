<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.BoardMapper">
    <select id="loginMember" resultType="VO">
       	select * from member where m_id= #{m_id} and m_pw=#{m_pw}
    </select>
    
   	<select id="boardList" resultType="VO">
    	select b_idx, b_category , b_state, b_city , b_title, b_writer, b_contents, b_views, b_m_idx from board
    </select>
    
    <select id="memberBoardContent" resultType="VO">
    	select b_idx, b_category , b_state, b_city , b_title, b_writer, b_contents, b_views, b_m_idx from board where b_idx=#{b_idx}
    </select>
    
    <select id="professorExpertiseList" resultType="String">
   	    select p_expertise from professor GROUP BY p_expertise order by p_expertise asc
	</select>
	
    <select id="professorList" resultType="VO">
		select * from professor where p_expertise=#{p_expertise}
	</select>
	
    <insert id="contactInsert">
        insert into contract(con_m_idx, con_p_idx, con_about, con_date, con_approval)
        values(#{con_m_idx}, #{con_p_idx}, #{con_about}, #{con_date}, #{con_approval})
    </insert>
	
    <insert id="memberBoardinsert" >
        insert into board(b_category, b_state, b_city, b_title, b_contents, b_writer,b_views ,b_m_idx) 
        values(#{b_category},#{b_state},#{b_city},#{b_title},#{b_contents},#{b_writer}, 0, #{b_m_idx})
    </insert>
    
    <delete id="boardDelete" >
        delete from board where b_idx=#{b_idx}
    </delete>
    
    <update id="boardUpdate" >
        update board set b_title = #{b_title}, b_contents = #{b_contents} where b_idx = #{b_idx}
    </update>
    
    <update id="boardUpdateViews" >
        update board set b_views = #{b_views} where b_idx = #{b_idx}
    </update>
    
</mapper>